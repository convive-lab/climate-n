<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module id="projekt-details">
  <style type="text/css" >
  :host{
    @apply (--layout-horizontal);
  }
    #projekt-details-wrapper {
      padding:30px;
    background-color: #A6A2AF;
    margin-bottom: 30px;
     font-size: 130%;
     @apply (--layout-vertical);
    }
    .horizontal{
      @apply (--layout-horizontal);
      background-color: white;
    }
    .horizontal paper-material{
      padding: 10px;
    }

    .fade {
     opacity: 1;
     transition: opacity .25s ease-in-out;
     -moz-transition: opacity .25s ease-in-out;
     -webkit-transition: opacity .25s ease-in-out;
     }

  </style>
  <template>
    <div id="projekt-details-wrapper" >
      <template is="dom-if" if={{projekt}}>
				<iron-ajax id="menu-data" auto url="http://cn.convive.io/wp-json/wp/v2/posts/{{projekt}}" handle-as="json" last-response="{{projektDetailsResponse}}" on-response="ready"></iron-ajax>
		  </template>
      <h1>{{projektDetailsResponse.title.rendered}}</h1>
      <div class="horizontal">
        <paper-material elevation="0">
          <img src="{{projektDetailsResponse.better_featured_image.media_details.sizes.medium.source_url}}" style="width:300px; height:200px" >
        </paper-material>
        <paper-material elevation="0">
         <html-echo html="{{projektDetailsResponse.content.rendered}}"></html-echo></div>
        </paper-material>

      </div>

      <post-popup id="pop" post="146"></post-popup>
    </div>
</template>

  <script>
    Polymer({
        is: 'projekt-details',
        properties:{
          projekt:{
            type:String,
          },
          route:{
            type:Object,
            notify: true,
          }
        },
        projektDetailsResponse:{
            type:Object
        },
        ready:function () {
          if (this.route == "projekt")
            setTimeout(function(){
                var dia=document.querySelector('#pop' + ' paper-dialog');
                dia.open();
            }, 7000);
        },
        attributeChanged: function(name, type) {
    console.log(this.localName + '#' + this.id + ' attribute ' + name +
      ' was changed to ' + this.getAttribute(name));
  }
      });
  </script>
</dom-module>
