<!--
author:Aaron
description:
properties:
-->
<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="offset-project">
   <style is="custom-style">
   .offset-wrap{
      height: 100%;
      @apply(--layout-vertical);
    }

   .quote{
    @apply(--layout-flex);
   }

   .buttons{
       @apply(--layout-horizontal);
       @apply(‑‑layout-self-stretch);
     }

    </style>
    <template>
      <div class="offset-wrap">
        <h2>{{data.title.rendered}}</h2>
		    <div class="image">
           <a href="{{url}}/projekt/{{data.id}}"> <iron-image src="{{data.better_featured_image.media_details.sizes.medium.source_url}}" style="width:300px; height:170px" ></iron-image></a>
        </div>
        <p><html-echo html="{{data.excerpt.rendered}}"></html-echo> </p>
        <iron-localstorage name="ru{{data.id}}" value="{{randuser}}"></iron-localstorage>
        <iron-ajax id="randomuser" auto url="http://api.randomuser.me/" handle-as="json" last-response="{{randuser}}" ></iron-ajax>
        {{randuser.results.user}}
        <template is="dom-repeat" items="{{randuser.results}}">
        <div class="quote"><rand-user data="{{item}}">{{data.acf.quote}}</rand-user></div>
        </template>
          <content></content>
        <paper-button raised id="offMore" on-click="popup">Mehr Infos</paper-button>
        <offset-popup id="off{{data.id}}" data="{{data}}"></offset-popup>
      </div>
    </template>
</dom-module>

<script>

    Polymer({
        is: "offset-project",
        selected:String,
        randuser:Object,
        url:String,
       properties:{
          position:{
            type:String
          },

          data:{
            type:Object
          }
        },

        popup:function () {
              var dia=document.querySelector('#off' + this.data.id + ' paper-dialog');
              dia.open();
        },
        ready:function () {
           this.url=app.baseUrl; 
        }
    });

</script>
