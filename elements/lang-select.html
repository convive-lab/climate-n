<!--
author:Aaron
description:
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module id="lang-select">
  <style is="custom-style">
    :host {}

    .lang-select {

    --paper-input-container-label: {
      text-decoration: none;
      color: #1D5FA2;
      font-family: Calibri !important;
      font-size: 110%;
      font-weight: bold;
      line-height: 30px;
    };
    /* no underline */
    --paper-input-container-underline: {
      display: none;
    };
    }
    .lang-selsect .floated-label-placeholder{
      display: none;
    }
    .lang-select{
      width:100px;
      margin: 10px;

    }
  </style>
  <template>
    <div>la {{lg}}</div>
    <content>
    <iron-localstorage name="lang" value="{{lg}}"></iron-localstorage>

          <paper-dropdown-menu class="lang-select" label="language" >
            <paper-listbox class="dropdown-content" attr-for-selected="value"  selected="{{lg}}" on-iron-select="_itemSelected" >
              <paper-item value="de_DE">Deutsch</paper-item>
              <paper-item value="en_EN">English</paper-item>
              <paper-item value="fr_FR">Francais</paper-item>
              <paper-item value="es_ES">Espanol</paper-item>
            </paper-listbox>
          </paper-dropdown-menu>
      </div>
    </content>
  </template>
</dom-module>

<script>
    Polymer({
        is: "lang-select",
        properties:{

        },
        ajaxResponse:{
          type:Object
        },
        first:false,
        _itemSelected:function(){
          if (localStorage.getItem("lang")!=this.lg&&this.first) {
            localStorage.removeItem("translation");
            if (this.lg=="de_DE"){
              localStorage.setItem("lang_wp",321);

            }
            else if (this.lg=="fr_FR"){
              localStorage.setItem("lang_wp",720);

            }

             else if (this.lg=="es_ES"){
               localStorage.setItem("lang_wp",722);

             }
            else{
              localStorage.setItem("lang_wp",323);

            }
             location.reload();
            //console.log("hey");
          }
            this.first=true;
        //
        }

    });
</script>
