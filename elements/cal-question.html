<!-- 
author:Aaron
description: fetch a question from wp
properties: post:<post-number>
-->
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="html-element.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<dom-module id="cal-question">
    <style>
        :host {
        }
        .flex{
          @apply(--layout-horizontal);
          @apply(--layout-center-justified);
        }
    </style>
    <template>
         <div class="container question-wrapper flex">
        <iron-ajax auto url="http://cn.convive.io/wp-json/wp/v2/posts/14" handle-as="json" last-response="{{ajaxResponse}}" id="question"></iron-ajax>
        <paper-card heading="{{ajaxResponse.acf.frage}}"> 
          <div class="card-content">

          <img src="{{ajaxResponse.better_featured_image.media_details.sizes.medium.source_url}}"/>
          <paper-radio-group class="flex"
            on-change=_changeHandler>
          >
           
              <paper-radio-button noink name="1">{{ajaxResponse.acf.antwort1}}</paper-radio-button>
              <paper-radio-button noink name="2">{{ajaxResponse.acf.antwort2}}</paper-radio-button>
              <paper-radio-button noink name="3">{{ajaxResponse.acf.antwort3}}</paper-radio-button>
              <paper-radio-button noink name="4">{{ajaxResponse.acf.antwort4}}</paper-radio-button>
              
            </paper-radio-group>
           
          </div>
            <div class="card-actions">
              <content></content>
            </div>
        </paper-card>
        </div>
    </template>
</dom-module>

<script>

    Polymer({
        is: "cal-question",
        selected:String,
       properties:{
          position:{
            type:String
          },
          co2:{
            type:Number,
            value:10

          }
        },
        _changeHandler(old){ 
          var question =  document.querySelector('#question'); 
          switch (old.target.name) {
            case '1':
              // statements_1
              this.co2=question.lastResponse.acf.antwort1wert;
              break;
            case '2':
              // statements_1
              this.co2=question.lastResponse.acf.antwort2wert;
              break;
            case '3':
              // statements_1
              this.co2=question.lastResponse.acf.antwort3wert;
              break;
            case '4':
              // statements_1
              this.co2=question.lastResponse.acf.antwort4wert;
              break;
            default:
              this.co2=0;
              break;
          }
          console.log(this.co2)
        },
        getMyValue: function () {
          var radioButtons = document.querySelector('paper-radio-button');
          var question =  document.querySelector('#question');
          return "50";
        }

    });
    var answer=document.querySelectorAll('paper-radio-group'); 


</script>